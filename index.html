<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-KK94CHFLLe+nY2dmCWGMq91rCGa5gtU4mk92HdvYe+M/SXH301p5ILy+dN9+nJOZ" crossorigin="anonymous">
    <link rel="apple-touch-icon" sizes="180x180" href="data/icons/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="data/icons/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="data/icons/favicon-16x16.png">
    <link rel="manifest" href="data/icons/site.webmanifest">
    <link rel="mask-icon" href="data/icons/safari-pinned-tab.svg" color="#5bbad5">
    <meta name="msapplication-TileColor" content="#da532c">
    <meta name="theme-color" content="#ffffff">
    <link rel="stylesheet" href="data/styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <title>Japan Crossing</title>
</head>

<body>
    <div class="container">
        <img class="img-fluid rounded mx-auto d-block" alt="Japan Crossing" src="data/logo.png" />
        <p class="text-center fs-4">Japan Crossing is a website that provides a serene experience, with real time music
            from the Animal Crossing game series, along with live feeds from various cameras located throughout Japan.
        </p>
        <p id="time" class="text-center fs-3"></p>
        <a class="weatherwidget-io" href="https://forecast7.com/en/35d69139d69/tokyo/" data-label_1="TOKIO"
            data-label_2="WEATHER" data-mode="Current" data-days="3" data-theme="weather_one">TOKIO WEATHER</a>
        <script>
            !function (d, s, id) { var js, fjs = d.getElementsByTagName(s)[0]; if (!d.getElementById(id)) { js = d.createElement(s); js.id = id; js.src = 'https://weatherwidget.io/js/widget.min.js'; fjs.parentNode.insertBefore(js, fjs); } }(document, 'script', 'weatherwidget-io-js');
        </script>
        <br>
        <div class="col-md-12 text-center">
            <button id="acnhmusicon" onclick="acnhmusicon()" type="button" class="btn btn-success">Play New Horizons
                music</button> &nbsp;
            <button id="acnlmusicon" onclick="acnlmusicon()" type="button" class="btn btn-success">Play New Leaf
                music</button>
            <button id="wwcfmusicon" onclick="wwcfmusicon()" type="button" class="btn btn-success">Play Wild World/City
                Folk
                music</button>
        </div>
        <div class="video-container">
            <iframe id="iframe" src="data/videoplayer.html" allowfullscreen></iframe>
        </div>
        <div class="col-md-12 text-center">
            <br>
            <button id="reloadiframe" onclick="reloadiframe()" type="button" class="btn btn-primary">Load another
                camera</button>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-ENjdO4Dr2bkBIFxQpeoTz1HIcje39Wm4jDKdf19U8gI4ddQ3GYNS7NTKfAdVQSZe"
        crossorigin="anonymous"></script>
    <script src="data/index.js"></script>
    <br><img class="img-fluid rounded mx-auto d-block" onclick="reset()" src="data/resetti.png" />
    <div class="footer-copyright text-center py-3">
        <div id="footer">
            <p class="fecha-actualizacion">Cameras updated on <span id="fecha-actual"></span></p>
        </div>
        Version: 4.0 - Made with love to Japan and Animal Crossing ❤️ - 2023
        Suian - <a href="https://github.com/Suiah98" target="_blank"><i class="fa fa-github"
                style="font-size:36px;color:#4a4a4a"></i></a>
    </div>
    <script>
        // Obtiene la fecha de última modificación del archivo en GitHub
        function obtenerFechaUltimaModificacion() {
            var url = 'https://api.github.com/repos/Suiah98/Japan-Crossing/commits?path=data/ids.txt';
            return fetch(url)
                .then(response => response.json())
                .then(data => {
                    var ultimoCommit = data[0];
                    var fechaModificacion = new Date(ultimoCommit.commit.committer.date);
                    return fechaModificacion.toLocaleDateString('es-ES');
                });
        }

        // Obtiene el elemento del DOM que contiene la información de la fecha
        var fechaActualElemento = document.getElementById('fecha-actual');

        // Actualiza la fecha en el elemento del DOM
        obtenerFechaUltimaModificacion()
            .then(fechaModificacion => {
                fechaActualElemento.textContent = fechaModificacion;
            })
            .catch(error => {
                console.log('Error al obtener la fecha de última modificación:', error);
            });
    </script>
</body>

</html>